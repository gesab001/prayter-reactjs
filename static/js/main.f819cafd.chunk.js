(this.webpackJsonpprayter=this.webpackJsonpprayter||[]).push([[0],{38:function(e,t,r){},49:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(2),s=r(27),c=r.n(s),l=r(7),i=(r(38),r(9)),u=r.n(i),o=r(15),b=r(28),j=r(29),d=r(32),m=r(31),p=r(25),h=r(19);r(40),r(42);h.a.initializeApp({apiKey:"AIzaSyAE2tUZXM3GPw9Jjy3G5y4Fp7MINMaO-j8",authDomain:"pray-290920.firebaseapp.com",databaseURL:"https://pray-290920.firebaseio.com",projectId:"pray-290920",storageBucket:"pray-290920.appspot.com",messagingSenderId:"951976358196",appId:"1:951976358196:web:4686903027ee94f7ea3561",measurementId:"G-TRF9JGHQCR"});var x=h.a.auth(),O=h.a.firestore(),f=O,g=new h.a.auth.GoogleAuthProvider,w=function(){x.signInWithPopup(g)},v=function(){var e=Object(o.a)(u.a.mark((function e(t,r){var n,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=O.doc("users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=16;break}return a=t.email,s=t.displayName,e.prev=8,e.next=11,n.set(Object(p.a)({displayName:s,email:a},r));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",y(t));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,r){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.uid){e.next=2;break}return e.abrupt("return",null);case 2:return t.email,e.next=5,f.collection("rooms").doc("prayer").collection("private").doc(t.uid).collection("messages").orderBy("date","desc").limit(5);case 5:return r=e.sent,e.abrupt("return",{user:t.email,private:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=Object(a.createContext)({user:null}),E=function(e){Object(d.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={user:null},e.componentDidMount=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x.onAuthStateChanged(function(){var t=Object(o.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(r);case 2:n=t.sent,e.setState({user:n}),console.log("userprovider"+e.state.user);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(r,[{key:"render",value:function(){return Object(n.jsx)(N.Provider,{value:this.state.user,children:this.props.children})}}]),r}(a.Component),S=r(5),k=r(8),P=function(){var e=Object(a.useState)(""),t=Object(k.a)(e,2),r=t[0],s=t[1],c=Object(a.useState)(""),i=Object(k.a)(c,2),u=i[0],o=i[1],b=Object(a.useState)(null),j=Object(k.a)(b,2),d=j[0],m=j[1],p=function(e){var t=e.currentTarget,r=t.name,n=t.value;"userEmail"===r?s(n):"userPassword"===r&&o(n)};return Object(n.jsxs)("div",{className:"mt-8",children:[Object(n.jsx)("h1",{className:"text-3xl mb-2 text-center font-bold",children:"Sign In"}),Object(n.jsxs)("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8",children:[null!==d&&Object(n.jsx)("div",{className:"py-4 bg-red-600 w-full text-white text-center mb-3",children:d}),Object(n.jsxs)("form",{className:"",children:[Object(n.jsx)("label",{htmlFor:"userEmail",className:"block",children:"Email:"}),Object(n.jsx)("input",{type:"email",className:"my-1 p-1 w-full",name:"userEmail",value:r,placeholder:"E.g: faruq123@gmail.com",id:"userEmail",onChange:function(e){return p(e)}}),Object(n.jsx)("label",{htmlFor:"userPassword",className:"block",children:"Password:"}),Object(n.jsx)("input",{type:"password",className:"mt-1 mb-3 p-1 w-full",name:"userPassword",value:u,placeholder:"Your Password",id:"userPassword",onChange:function(e){return p(e)}}),Object(n.jsx)("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white",onClick:function(e){!function(e,t,r){e.preventDefault(),x.signInWithEmailAndPassword(t,r).catch((function(e){m("Error signing in with password and email!"),console.error("Error signing in with password and email",e)})),console.log("signed in")}(e,r,u)},children:"Sign in"})]}),Object(n.jsx)("p",{className:"text-center my-3",children:"or"}),Object(n.jsx)("button",{onClick:w,className:"bg-red-500 hover:bg-red-600 w-full py-2 text-white",children:"Sign in with Google"}),Object(n.jsxs)("p",{className:"text-center my-3",children:["Don't have an account?"," ",Object(n.jsx)(l.b,{to:"/signup",className:"text-blue-500 hover:text-blue-600",children:"Sign up here"})," ",Object(n.jsx)("br",{})," ",Object(n.jsx)(l.b,{to:"/passwordreset",className:"text-blue-500 hover:text-blue-600",children:"Forgot Password?"})]})]})]})},C=function(){var e=Object(a.useState)(""),t=Object(k.a)(e,2),r=t[0],s=t[1],c=Object(a.useState)(""),i=Object(k.a)(c,2),b=i[0],j=i[1],d=Object(a.useState)(""),m=Object(k.a)(d,2),p=m[0],h=m[1],O=Object(a.useState)(null),f=Object(k.a)(O,2),g=f[0],w=f[1],y=function(){var e=Object(o.a)(u.a.mark((function e(t,r,n){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x.createUserWithEmailAndPassword(r,n);case 4:a=e.sent,c=a.user,v(c,{displayName:p}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),w("Error Signing up with email and password"),console.log(e.t0);case 13:s(""),j(""),h("");case 16:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),N=function(e){var t=e.currentTarget,r=t.name,n=t.value;"userEmail"===r?s(n):"userPassword"===r?j(n):"displayName"===r&&h(n)};return Object(n.jsxs)("div",{className:"mt-8",children:[Object(n.jsx)("h1",{className:"text-3xl mb-2 text-center font-bold",children:"Sign Up"}),Object(n.jsxs)("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8",children:[null!==g&&Object(n.jsx)("div",{className:"py-4 bg-red-600 w-full text-white text-center mb-3",children:g}),Object(n.jsxs)("form",{className:"",children:[Object(n.jsx)("label",{htmlFor:"displayName",className:"block",children:"Display Name:"}),Object(n.jsx)("input",{type:"text",className:"my-1 p-1 w-full ",name:"displayName",value:p,placeholder:"E.g: Faruq",id:"displayName",onChange:function(e){return N(e)}}),Object(n.jsx)("label",{htmlFor:"userEmail",className:"block",children:"Email:"}),Object(n.jsx)("input",{type:"email",className:"my-1 p-1 w-full",name:"userEmail",value:r,placeholder:"E.g: faruq123@gmail.com",id:"userEmail",onChange:function(e){return N(e)}}),Object(n.jsx)("label",{htmlFor:"userPassword",className:"block",children:"Password:"}),Object(n.jsx)("input",{type:"password",className:"mt-1 mb-3 p-1 w-full",name:"userPassword",value:b,placeholder:"Your Password",id:"userPassword",onChange:function(e){return N(e)}}),Object(n.jsx)("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white",onClick:function(e){y(e,r,b)},children:"Sign up"})]}),Object(n.jsx)("p",{className:"text-center my-3",children:"or"}),Object(n.jsx)("button",{className:"bg-red-500 hover:bg-red-600 w-full py-2 text-white",children:"Sign In with Google"}),Object(n.jsxs)("p",{className:"text-center my-3",children:["Already have an account?"," ",Object(n.jsx)(l.b,{to:"/",className:"text-blue-500 hover:text-blue-600",children:"Sign in here"})]})]})]})},F=function(){return Object(n.jsx)("div",{children:"profile page "})},I=function(){var e=Object(a.useState)(""),t=Object(k.a)(e,2),r=t[0],s=t[1],c=Object(a.useState)(!1),i=Object(k.a)(c,2),u=i[0],o=i[1],b=Object(a.useState)(null),j=Object(k.a)(b,2),d=j[0],m=j[1];return Object(n.jsxs)("div",{className:"mt-8",children:[Object(n.jsx)("h1",{className:"text-xl text-center font-bold mb-3",children:"Reset your Password"}),Object(n.jsxs)("div",{className:"border border-blue-300 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8",children:[Object(n.jsxs)("form",{action:"",children:[u&&Object(n.jsx)("div",{className:"py-3 bg-green-400 w-full text-white text-center mb-3",children:"An email has been sent to you!"}),null!==d&&Object(n.jsx)("div",{className:"py-3 bg-red-600 w-full text-white text-center mb-3",children:d}),Object(n.jsx)("label",{htmlFor:"userEmail",className:"w-full block",children:"Email:"}),Object(n.jsx)("input",{type:"email",name:"userEmail",id:"userEmail",value:r,placeholder:"Input your email",onChange:function(e){var t=e.currentTarget,r=t.name,n=t.value;"userEmail"===r&&s(n)},className:"mb-3 w-full px-1 py-2"}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),x.sendPasswordResetEmail(r).then((function(){o(!0),setTimeout((function(){o(!1)}),3e3)})).catch((function(){m("Error resetting password")}))},className:"w-full bg-blue-400 text-white py-3",children:"Send me a reset link"})]}),Object(n.jsx)(l.b,{to:"/",className:"my-2 text-blue-700 hover:text-blue-800 text-center block",children:"\u2190 back to sign in page"})]})]})},A=function(){var e=Object(a.useContext)(N),t=Object(a.useState)(""),r=Object(k.a)(t,2),s=r[0],c=r[1];return e.private.get().then((function(e){var t=[];e.forEach((function(e){t.push(e.data().message)}));var r=t.map((function(e){return Object(n.jsx)("li",{children:e})}));c(r)})).catch((function(e){console.log("Error getting documents: ",e)})),Object(n.jsxs)("div",{children:["private",Object(n.jsx)("ul",{children:s})]})},D=function(){Object(a.useContext)(N);return Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{className:"w-full py-3 bg-red-600 mt-4 text-white",onClick:function(){x.signOut()},children:"Sign out"}),Object(n.jsx)(F,{}),Object(n.jsx)(A,{})]})};var G=function(){return Object(a.useContext)(N)?Object(n.jsx)(D,{}):Object(n.jsx)(l.a,{basename:"/prayter-reactjs",children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/",children:"Sign in"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/signup",children:"Sign up"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/profile",children:"Profile"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/passwordreset",children:"Password Reset"})})]}),Object(n.jsxs)(S.c,{children:[Object(n.jsxs)(S.a,{exact:!0,path:"/",children:[" ",Object(n.jsx)(P,{})," "]}),Object(n.jsxs)(S.a,{exact:!0,path:"/signin",children:[" ",Object(n.jsx)(P,{})," "]}),Object(n.jsxs)(S.a,{path:"/signup",children:[" ",Object(n.jsx)(C,{})," "]}),Object(n.jsxs)(S.a,{path:"/profile",children:[" ",Object(n.jsx)(F,{})," "]}),Object(n.jsxs)(S.a,{path:"/passwordreset",children:[" ",Object(n.jsx)(I,{})," "]})]})]})})};var T=function(){return Object(n.jsx)(E,{children:Object(n.jsx)(G,{})})},R=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,50)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(n.jsx)(l.a,{children:Object(n.jsx)(T,{})}),document.getElementById("root")),R()}},[[49,1,2]]]);
//# sourceMappingURL=main.f819cafd.chunk.js.map