(this.webpackJsonpprayter=this.webpackJsonpprayter||[]).push([[0],{29:function(e,n,t){},35:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(4),a=t(1),o=t(17),s=t.n(o),i=t(21),c=(t(29),t(18)),d=t(19),l=t(23),u=t(22),p=t(11);t(30),t(32);p.a.initializeApp({apiKey:"AIzaSyAE2tUZXM3GPw9Jjy3G5y4Fp7MINMaO-j8",authDomain:"pray-290920.firebaseapp.com",databaseURL:"https://pray-290920.firebaseio.com",projectId:"pray-290920",storageBucket:"pray-290920.appspot.com",messagingSenderId:"951976358196",appId:"1:951976358196:web:4686903027ee94f7ea3561",measurementId:"G-TRF9JGHQCR"});var h=p.a.auth(),g=p.a.firestore(),j=(t(35),function(e){Object(l.a)(t,e);var n=Object(u.a)(t);function t(){var e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).state={user:null,username:null,password:null,error:null,newprayer:null,prayerlist:[]},e.componentDidMount=function(){h.onAuthStateChanged((function(n){null!=n&&(console.log(n.uid),e.setState({user:n}),g.collection("rooms").doc("prayer").collection("private").doc(e.state.user.uid).collection("messages").onSnapshot((function(e){e.docChanges().forEach((function(e){"added"===e.type&&console.log("New prayer: ",e.doc.data()),"modified"===e.type&&console.log("Modified prayer: ",e.doc.data()),"removed"===e.type&&console.log("Removed prayer: ",e.doc.data())}))})))}))},e.onChangeHandlerUsername=function(n){var t=n.currentTarget.value;e.setState({username:t})},e.onChangeHandlerPassword=function(n){var t=n.currentTarget.value;console.log("password: ",t),e.setState({password:t})},e.signInHandler=function(n){n.preventDefault(),h.signInWithEmailAndPassword(e.state.username,e.state.password).catch((function(n){console.log("Error signing in with password and email",n),e.setState({error:n})}))},e.signOutHandler=function(n){h.signOut(),e.setState({user:null}),window.location.reload(!1)},e.newPrayerHandler=function(n){var t="Dear heavenly Father, "+n.currentTarget.innerHTML+", in Jesus' name, Amen";e.setState({newprayer:t})},e.addPrayer=function(n){console.log("add: "+e.state.newprayer);var t=e.state.newprayer,r=Date.now();console.log("useruid: "+e.state.user.uid);var a=e.state.user.uid,o=e.state.prayerlist,s=g.collection("rooms").doc("prayer").collection("private").doc(a).collection("messages");s.add({author:e.state.user.email,userId:a,message:t,date:r,recurring:!1}).then((function(e){console.log(s,t,"private",r,a,e.id,!1);var n={docRef:s,message:t,messageType:"private",date:r,id:e.id,recurring:!1};o.push(n)})).catch((function(e){console.error("Error adding document: ",e)}))},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this;return null===this.state.user?Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:this.signInHandler,children:[Object(r.jsx)("div",{children:"Username"}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{required:!0,type:"email",onChange:function(n){return e.onChangeHandlerUsername(n)}})}),Object(r.jsx)("div",{children:"Password"}),Object(r.jsx)("input",{type:"password",required:!0,onChange:function(n){return e.onChangeHandlerPassword(n)}}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"submit",value:"Sign in"})})]})}):Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"button",onClick:function(n){e.signOutHandler(n)},children:"Sign out "}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"New prayer"}),Object(r.jsx)("div",{children:"Dear heavenly Father, "}),Object(r.jsx)("div",{contentEditable:!0,onInput:function(n){return e.newPrayerHandler(n)}}),Object(r.jsx)("div",{children:"in Jesus' name, Amen."}),Object(r.jsx)("button",{onClick:function(n){e.addPrayer(n)},children:"Send"})]}),Object(r.jsx)("div",{})]})}}]),t}(a.Component)),m=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,s=n.getTTFB;t(e),r(e),a(e),o(e),s(e)}))};s.a.render(Object(r.jsx)(i.a,{children:Object(r.jsx)(j,{})}),document.getElementById("root")),m()}},[[40,1,2]]]);
//# sourceMappingURL=main.dd3964fa.chunk.js.map