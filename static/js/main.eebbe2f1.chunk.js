(this.webpackJsonpprayter=this.webpackJsonpprayter||[]).push([[0],{30:function(e,t,n){},36:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(1),i=n(22),o=n.n(i),s=n(24),c=(n(30),n(9)),d=n(10),l=n(13),u=n(12),h=n(16);n(31),n(33);h.a.initializeApp({apiKey:"AIzaSyAE2tUZXM3GPw9Jjy3G5y4Fp7MINMaO-j8",authDomain:"pray-290920.firebaseapp.com",databaseURL:"https://pray-290920.firebaseio.com",projectId:"pray-290920",storageBucket:"pray-290920.appspot.com",messagingSenderId:"951976358196",appId:"1:951976358196:web:4686903027ee94f7ea3561",measurementId:"G-TRF9JGHQCR"});var j=h.a.auth(),f=h.a.firestore(),p=(n(36),n(11)),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.unsubscribe=f.collection("rooms").doc("fasting").collection("private").doc(j.currentUser.uid).collection("messages").orderBy("date","desc").limit(3).onSnapshot(a.onDataChange)},a.newFastHandler=function(e){var t="Dear heavenly Father, help me to fast from "+e.currentTarget.innerHTML+" for two months, in Jesus' name, Amen";a.setState({newfast:t})},a.addFast=function(e){console.log("add: "+a.state.newfast);var t=a.state.newfast,n=Date.now(),r=j.currentUser.uid,i=f.collection("rooms").doc("fasting").collection("private").doc(r).collection("messages");i.add({author:j.currentUser.email,userId:r,message:t,date:n,recurring:!1}).then((function(e){console.log(i,t,"private",n,r,e.id,!1)})).catch((function(e){console.error("Error adding document: ",e)}))},a.getDate=function(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e)},a.onDataChange=a.onDataChange.bind(Object(p.a)(a)),a.state={newfast:null,fastlist:[]},a.unsubscribe=void 0,a}return Object(d.a)(n,[{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"onDataChange",value:function(e){var t=this.state.fastlist;e.docChanges().forEach((function(e){"added"===e.type&&(console.log("New prayer: ",e.doc.data()),t.unshift(e.doc.data())),"modified"===e.type&&console.log("Modified prayer: ",e.doc.data()),"removed"===e.type&&console.log("Removed prayer: ",e.doc.data())})),this.setState({fastlist:t})}},{key:"render",value:function(){var e=this,t=this.state.fastlist;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"New fast"}),Object(a.jsx)("div",{children:"Dear heavenly Father, help me to fast from  "}),Object(a.jsx)("div",{contentEditable:!0,onInput:function(t){return e.newFastHandler(t)}}),Object(a.jsx)("div",{children:"for two months, in Jesus' name, Amen."}),Object(a.jsx)("button",{onClick:function(t){e.addFast(t)},children:"Send"})]}),Object(a.jsx)("div",{children:Object(a.jsx)("ul",{children:t&&t.map((function(t,n){return Object(a.jsx)("li",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:e.getDate(t.date)}),Object(a.jsx)("p",{children:t.message})]})})}))})})]})}}]),n}(r.Component),g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.unsubscribe=f.collection("rooms").doc("prayer").collection("private").doc(j.currentUser.uid).collection("messages").orderBy("date","desc").limit(3).onSnapshot(a.onDataChange)},a.newprayerHandler=function(e){var t="Dear heavenly Father, help me to fast from "+e.currentTarget.innerHTML+" for two months, in Jesus' name, Amen";a.setState({newprayer:t})},a.addPrayer=function(e){console.log("add: "+a.state.newprayer);var t=a.state.newprayer,n=Date.now(),r=j.currentUser.uid,i=f.collection("rooms").doc("fasting").collection("private").doc(r).collection("messages");i.add({author:j.currentUser.email,userId:r,message:t,date:n,recurring:!1}).then((function(e){console.log(i,t,"private",n,r,e.id,!1)})).catch((function(e){console.error("Error adding document: ",e)}))},a.onDataChange=a.onDataChange.bind(Object(p.a)(a)),a.state={newprayer:null,prayerlist:[]},a.unsubscribe=void 0,a}return Object(d.a)(n,[{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"onDataChange",value:function(e){var t=this.state.prayerlist;e.docChanges().forEach((function(e){"added"===e.type&&(console.log("New prayer: ",e.doc.data()),t.unshift(e.doc.data())),"modified"===e.type&&console.log("Modified prayer: ",e.doc.data()),"removed"===e.type&&console.log("Removed prayer: ",e.doc.data())})),this.setState({prayerlist:t})}},{key:"render",value:function(){var e=this,t=this.state.prayerlist;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"New prayer"}),Object(a.jsx)("div",{children:"Dear heavenly Father, "}),Object(a.jsx)("div",{contentEditable:!0,onInput:function(t){return e.newprayerHandler(t)}}),Object(a.jsx)("div",{children:"in Jesus' name, Amen."}),Object(a.jsx)("button",{onClick:function(t){e.addPrayer(t)},children:"Send"})]}),Object(a.jsx)("div",{children:Object(a.jsx)("ul",{children:t&&t.map((function(e,t){return Object(a.jsx)("li",{children:e.message})}))})})]})}}]),n}(r.Component),m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){j.onAuthStateChanged((function(e){null!=e&&(console.log(e.uid),r.setState({user:e}))}))},r.onChangeHandlerUsername=function(e){var t=e.currentTarget.value;r.setState({username:t})},r.onChangeHandlerPassword=function(e){var t=e.currentTarget.value;console.log("password: ",t),r.setState({password:t})},r.signInHandler=function(e){e.preventDefault(),j.signInWithEmailAndPassword(r.state.username,r.state.password).catch((function(e){console.log("Error signing in with password and email",e),r.setState({error:e})}))},r.onViewChange=function(e){e.preventDefault(),r.setState({view:e.currentTarget.value})},r.signOutHandler=function(e){j.signOut(),r.setState({user:null}),window.location.reload(!1)},r.renderSwitch=function(e){switch(e){case"fasting":return Object(a.jsx)(b,{});default:return Object(a.jsx)(g,{})}},r.state={user:null,username:null,password:null,error:null,view:"prayer"},r}return Object(d.a)(n,[{key:"render",value:function(){var e=this;if(null===this.state.user)return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:this.signInHandler,children:[Object(a.jsx)("div",{children:"Username"}),Object(a.jsx)("div",{children:Object(a.jsx)("input",{required:!0,type:"email",onChange:function(t){return e.onChangeHandlerUsername(t)}})}),Object(a.jsx)("div",{children:"Password"}),Object(a.jsx)("input",{type:"password",required:!0,onChange:function(t){return e.onChangeHandlerPassword(t)}}),Object(a.jsx)("div",{children:Object(a.jsx)("input",{type:"submit",value:"Sign in"})})]})});var t=this.state,n=(t.prayerlist,t.view);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"button",onClick:function(t){e.signOutHandler(t)},children:"Sign out "}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("label",{children:["Prayer",Object(a.jsx)("input",{type:"radio",id:"prayer",name:"view",value:"prayer",onChange:function(t){return e.onViewChange(t)}})]}),Object(a.jsxs)("label",{children:["Fasting",Object(a.jsx)("input",{type:"radio",id:"fasting",name:"view",value:"fasting",onChange:function(t){return e.onViewChange(t)}})]})]}),this.renderSwitch(n)]})}}]),n}(r.Component),v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};o.a.render(Object(a.jsx)(s.a,{children:Object(a.jsx)(m,{})}),document.getElementById("root")),v()}},[[41,1,2]]]);
//# sourceMappingURL=main.eebbe2f1.chunk.js.map