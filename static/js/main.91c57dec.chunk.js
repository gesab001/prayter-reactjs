(this.webpackJsonpprayter=this.webpackJsonpprayter||[]).push([[0],{29:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(2),s=r.n(n),c=r(18),l=r.n(c),i=(r(29),r(5)),u=r.n(i),o=r(10),b=r(19),d=r(20),m=r(23),j=r(22),p=r(16),h=r(13);r(31),r(33);h.a.initializeApp({apiKey:"AIzaSyAE2tUZXM3GPw9Jjy3G5y4Fp7MINMaO-j8",authDomain:"pray-290920.firebaseapp.com",databaseURL:"https://pray-290920.firebaseio.com",projectId:"pray-290920",storageBucket:"pray-290920.appspot.com",messagingSenderId:"951976358196",appId:"1:951976358196:web:4686903027ee94f7ea3561",measurementId:"G-TRF9JGHQCR"});var x=h.a.auth(),f=h.a.firestore(),O=new h.a.auth.GoogleAuthProvider,w=function(){x.signInWithPopup(O)},g=function(){var e=Object(o.a)(u.a.mark((function e(t,r){var a,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=f.doc("users/".concat(t.uid)),e.next=5,a.get();case 5:if(e.sent.exists){e.next=16;break}return n=t.email,s=t.displayName,e.prev=8,e.next=11,a.set(Object(p.a)({displayName:s,email:n},r));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",v(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,f.doc("users/".concat(t)).get();case 5:return r=e.sent,e.abrupt("return",Object(p.a)({uid:t},r.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),y=Object(n.createContext)({user:null}),N=function(e){Object(m.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(b.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={user:null},e.componentDidMount=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x.onAuthStateChanged(function(){var t=Object(o.a)(u.a.mark((function t(r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(r);case 2:a=t.sent,e.setState({user:a}),console.log("userprovider"+e.state.user);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(r,[{key:"render",value:function(){return Object(a.jsx)(y.Provider,{value:this.state.user,children:this.props.children})}}]),r}(n.Component),E=r(9),k=r(6),S=function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),r=t[0],s=t[1],c=Object(n.useState)(""),l=Object(k.a)(c,2),i=l[0],u=l[1],o=Object(n.useState)(null),b=Object(k.a)(o,2),d=b[0],m=b[1],j=function(e){var t=e.currentTarget,r=t.name,a=t.value;"userEmail"===r?s(a):"userPassword"===r&&u(a)};return Object(a.jsxs)("div",{className:"mt-8",children:[Object(a.jsx)("h1",{className:"text-3xl mb-2 text-center font-bold",children:"Sign In"}),Object(a.jsxs)("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8",children:[null!==d&&Object(a.jsx)("div",{className:"py-4 bg-red-600 w-full text-white text-center mb-3",children:d}),Object(a.jsxs)("form",{className:"",children:[Object(a.jsx)("label",{htmlFor:"userEmail",className:"block",children:"Email:"}),Object(a.jsx)("input",{type:"email",className:"my-1 p-1 w-full",name:"userEmail",value:r,placeholder:"E.g: faruq123@gmail.com",id:"userEmail",onChange:function(e){return j(e)}}),Object(a.jsx)("label",{htmlFor:"userPassword",className:"block",children:"Password:"}),Object(a.jsx)("input",{type:"password",className:"mt-1 mb-3 p-1 w-full",name:"userPassword",value:i,placeholder:"Your Password",id:"userPassword",onChange:function(e){return j(e)}}),Object(a.jsx)("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white",onClick:function(e){!function(e,t,r){e.preventDefault(),x.signInWithEmailAndPassword(t,r).catch((function(e){m("Error signing in with password and email!"),console.error("Error signing in with password and email",e)})),console.log("signed in")}(e,r,i)},children:"Sign in"})]}),Object(a.jsx)("p",{className:"text-center my-3",children:"or"}),Object(a.jsx)("button",{onClick:w,className:"bg-red-500 hover:bg-red-600 w-full py-2 text-white",children:"Sign in with Google"}),Object(a.jsxs)("p",{className:"text-center my-3",children:["Don't have an account?"," ",Object(a.jsx)(E.a,{to:"signUp",className:"text-blue-500 hover:text-blue-600",children:"Sign up here"})," ",Object(a.jsx)("br",{})," ",Object(a.jsx)(E.a,{to:"passwordReset",className:"text-blue-500 hover:text-blue-600",children:"Forgot Password?"})]})]})]})},P=function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),r=t[0],s=t[1],c=Object(n.useState)(""),l=Object(k.a)(c,2),i=l[0],b=l[1],d=Object(n.useState)(""),m=Object(k.a)(d,2),j=m[0],p=m[1],h=Object(n.useState)(null),f=Object(k.a)(h,2),O=f[0],w=f[1],v=function(){var e=Object(o.a)(u.a.mark((function e(t,r,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x.createUserWithEmailAndPassword(r,a);case 4:n=e.sent,c=n.user,g(c,{displayName:j}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),w("Error Signing up with email and password"),console.log(e.t0);case 13:s(""),b(""),p("");case 16:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,a){return e.apply(this,arguments)}}(),y=function(e){var t=e.currentTarget,r=t.name,a=t.value;"userEmail"===r?s(a):"userPassword"===r?b(a):"displayName"===r&&p(a)};return Object(a.jsxs)("div",{className:"mt-8",children:[Object(a.jsx)("h1",{className:"text-3xl mb-2 text-center font-bold",children:"Sign Up"}),Object(a.jsxs)("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8",children:[null!==O&&Object(a.jsx)("div",{className:"py-4 bg-red-600 w-full text-white text-center mb-3",children:O}),Object(a.jsxs)("form",{className:"",children:[Object(a.jsx)("label",{htmlFor:"displayName",className:"block",children:"Display Name:"}),Object(a.jsx)("input",{type:"text",className:"my-1 p-1 w-full ",name:"displayName",value:j,placeholder:"E.g: Faruq",id:"displayName",onChange:function(e){return y(e)}}),Object(a.jsx)("label",{htmlFor:"userEmail",className:"block",children:"Email:"}),Object(a.jsx)("input",{type:"email",className:"my-1 p-1 w-full",name:"userEmail",value:r,placeholder:"E.g: faruq123@gmail.com",id:"userEmail",onChange:function(e){return y(e)}}),Object(a.jsx)("label",{htmlFor:"userPassword",className:"block",children:"Password:"}),Object(a.jsx)("input",{type:"password",className:"mt-1 mb-3 p-1 w-full",name:"userPassword",value:i,placeholder:"Your Password",id:"userPassword",onChange:function(e){return y(e)}}),Object(a.jsx)("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white",onClick:function(e){v(e,r,i)},children:"Sign up"})]}),Object(a.jsx)("p",{className:"text-center my-3",children:"or"}),Object(a.jsx)("button",{className:"bg-red-500 hover:bg-red-600 w-full py-2 text-white",children:"Sign In with Google"}),Object(a.jsxs)("p",{className:"text-center my-3",children:["Already have an account?"," ",Object(a.jsx)(E.a,{to:"/",className:"text-blue-500 hover:text-blue-600",children:"Sign in here"})]})]})]})},C=function(){var e=Object(n.useContext)(y),t=e.displayName,r=e.email;return Object(a.jsxs)("div",{className:"mx-auto w-11/12 md:w-2/4 py-8 px-4 md:px-8",children:[Object(a.jsx)("div",{className:"flex border flex-col items-center md:flex-row md:items-start border-blue-400 px-3 py-4",children:Object(a.jsx)("div",{className:"md:pl-4",children:Object(a.jsxs)("h3",{className:"italic",children:[t," ",r]})})}),Object(a.jsx)("button",{className:"w-full py-3 bg-red-600 mt-4 text-white",onClick:function(){x.signOut()},children:"Sign out"})]})},F=function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),r=t[0],s=t[1],c=Object(n.useState)(!1),l=Object(k.a)(c,2),i=l[0],u=l[1],o=Object(n.useState)(null),b=Object(k.a)(o,2),d=b[0],m=b[1];return Object(a.jsxs)("div",{className:"mt-8",children:[Object(a.jsx)("h1",{className:"text-xl text-center font-bold mb-3",children:"Reset your Password"}),Object(a.jsxs)("div",{className:"border border-blue-300 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8",children:[Object(a.jsxs)("form",{action:"",children:[i&&Object(a.jsx)("div",{className:"py-3 bg-green-400 w-full text-white text-center mb-3",children:"An email has been sent to you!"}),null!==d&&Object(a.jsx)("div",{className:"py-3 bg-red-600 w-full text-white text-center mb-3",children:d}),Object(a.jsx)("label",{htmlFor:"userEmail",className:"w-full block",children:"Email:"}),Object(a.jsx)("input",{type:"email",name:"userEmail",id:"userEmail",value:r,placeholder:"Input your email",onChange:function(e){var t=e.currentTarget,r=t.name,a=t.value;"userEmail"===r&&s(a)},className:"mb-3 w-full px-1 py-2"}),Object(a.jsx)("button",{onClick:function(e){e.preventDefault(),x.sendPasswordResetEmail(r).then((function(){u(!0),setTimeout((function(){u(!1)}),3e3)})).catch((function(){m("Error resetting password")}))},className:"w-full bg-blue-400 text-white py-3",children:"Send me a reset link"})]}),Object(a.jsx)(E.a,{to:"/",className:"my-2 text-blue-700 hover:text-blue-800 text-center block",children:"\u2190 back to sign in page"})]})]})};var I=function(){return Object(n.useContext)(y)?Object(a.jsx)(C,{}):Object(a.jsxs)(E.b,{children:[Object(a.jsx)(P,{path:"signUp"}),Object(a.jsx)(S,{path:"/"}),Object(a.jsx)(F,{path:"passwordReset"})]})};var A=function(){return Object(a.jsx)(N,{children:Object(a.jsx)(I,{})})},D=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,42)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),s(e),c(e)}))};l.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root")),D()}},[[41,1,2]]]);
//# sourceMappingURL=main.91c57dec.chunk.js.map